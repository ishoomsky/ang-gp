{"version":3,"sources":["./src/app/components/login/login.component.ts","./src/app/components/login/login.component.html","./src/app/modules/login.module.ts"],"names":[],"mappings":"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","file":"modules-login-module.js","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\nimport { AuthService } from 'src/app/services/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css'],\n})\nexport class LoginComponent implements OnInit {\n  loginForm: FormGroup;\n  isPasswordHidden: boolean = true;\n  focusedInput: string = null;\n  isSubmitClicked = false;\n  showLoginFailed = false;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private authService: AuthService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.loginForm = this.formBuilder.group({\n      username: ['', Validators.required],\n      password: ['', Validators.required],\n    });\n  }\n\n  handleInputFocus(inputName: string): void {\n    this.focusedInput = inputName;\n  }\n\n  handleVisibilityIconClick(): void {\n    this.isPasswordHidden = !this.isPasswordHidden;\n    this.focusedInput = 'password';\n  }\n\n  onSubmit(): void {\n    this.isSubmitClicked = true;\n    this.focusedInput = null;\n\n    if (this.loginForm.valid) {\n      this.authService.logIn(this.loginForm.value);\n\n      if (this.authService.isLoggedIn()) {\n        this.showLoginFailed = false;\n        this.router.navigate(['/charts']);\n      }\n\n      if (this.authService.isLoggedIn() === false) {\n        this.showLoginFailed = true;\n        setTimeout(() => {\n          this.showLoginFailed = false;\n        }, 5000);\n      }\n    }\n  }\n}\n","<div class=\"page-container\">\n  <div class=\"login-form-container\">\n    <div class=\"logo-container\">\n      <img src=\"../../../assets/svg/logo-gp.svg\" />\n      <img\n        class=\"logo-container__logo-separator\"\n        src=\"../../../assets/ui/logo-separator.svg\"\n      />\n      <div class=\"logo-container__logo-text\">\n        индустриальная экосистема\n        <span class=\"logo-text__expression\">Цифровая</span>\n      </div>\n    </div>\n    <form [formGroup]=\"loginForm\" (ngSubmit)=\"onSubmit()\">\n      <div class=\"form-group__inputs\">\n        <div class=\"form-group\">\n          <div class=\"form-group__icon-container\">\n            <svg\n              class=\"form-group__login-icon\"\n              width=\"25\"\n              height=\"25\"\n              viewBox=\"0 0 25 25\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M7.03101 7.03125C7.03101 3.98437 9.45288 1.5625 12.4998 1.5625C15.5466 1.5625 17.9685 3.98437 17.9685 7.03125C17.9685 10.0781 15.5466 14.6875 12.4998 14.6875C9.45288 14.6875 7.03101 10.0781 7.03101 7.03125Z\"\n                [attr.stroke]=\"focusedInput === 'username' ? '#fff' : '#8C99B2'\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n              <path\n                d=\"M15.859 13.0469C19.8434 14.2969 22.8121 17.8125 23.359 22.0313C23.4371 22.8125 22.8902 23.4375 22.109 23.4375H2.89024C2.10899 23.4375 1.56211 22.7344 1.64023 22.0313C2.18711 17.8906 5.07773 14.4531 8.90586 13.125\"\n                [attr.stroke]=\"focusedInput === 'username' ? '#fff' : '#8C99B2'\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n            </svg>\n          </div>\n          <input\n            (focus)=\"handleInputFocus('username')\"\n            class=\"form-group__input\"\n            [class.form-group__input-active]=\"focusedInput === 'username'\"\n            [attr.placeholder]=\"focusedInput === 'username' ? '' : 'Логин'\"\n            type=\"text\"\n            formControlName=\"username\"\n          />\n        </div>\n        <div class=\"form-group\">\n          <div class=\"form-group__icon-container\">\n            <svg\n              class=\"form-group__password-icon\"\n              width=\"19\"\n              height=\"24\"\n              viewBox=\"0 0 19 24\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M3.3501 8.48739V7.0084C3.3501 3.68067 6.03077 1 9.3585 1H9.63581C12.9635 1 15.6442 3.68067 15.6442 7.0084V8.48739\"\n                [attr.stroke]=\"focusedInput === 'password' ? '#fff' : '#8C99B2'\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n              <path\n                d=\"M9.49864 17.7312C10.5197 17.7312 11.3474 16.9035 11.3474 15.8824C11.3474 14.8614 10.5197 14.0337 9.49864 14.0337C8.47761 14.0337 7.6499 14.8614 7.6499 15.8824C7.6499 16.9035 8.47761 17.7312 9.49864 17.7312Z\"\n                [attr.stroke]=\"focusedInput === 'password' ? '#fff' : '#8C99B2'\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n              <path\n                d=\"M9.49854 17.916V19.7648\"\n                [attr.stroke]=\"focusedInput === 'password' ? '#fff' : '#8C99B2'\"\n                stroke-width=\"1.5\"\n                stroke-miterlimit=\"10\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n              />\n              <rect\n                x=\"1\"\n                y=\"11\"\n                width=\"17\"\n                height=\"12\"\n                rx=\"2\"\n                [attr.stroke]=\"focusedInput === 'password' ? '#fff' : '#8C99B2'\"\n                stroke-width=\"1.5\"\n              />\n            </svg>\n          </div>\n          <input\n            (focus)=\"handleInputFocus('password')\"\n            class=\"form-group__input\"\n            [class.form-group__input-active]=\"focusedInput === 'password'\"\n            [attr.placeholder]=\"focusedInput === 'password' ? '' : 'Пароль'\"\n            placeholder=\"Пароль\"\n            formControlName=\"password\"\n            [type]=\"isPasswordHidden ? 'password' : 'text'\"\n          />\n          <div class=\"form-group__password-visibility-container\">\n            <svg\n              *ngIf=\"isPasswordHidden === true\"\n              (click)=\"handleVisibilityIconClick()\"\n              class=\"password-visibility-container__visibility-icon\"\n              width=\"20\"\n              height=\"14\"\n              viewBox=\"0 0 20 14\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                class=\"visibility-icon__path\"\n                d=\"M13.125 6.875C13.125 7.7038 12.7958 8.49866 12.2097 9.08471C11.6237 9.67076 10.8288 10 10 10C9.1712 10 8.37634 9.67076 7.79029 9.08471C7.20424 8.49866 6.875 7.7038 6.875 6.875C6.875 6.0462 7.20424 5.25134 7.79029 4.66529C8.37634 4.07924 9.1712 3.75 10 3.75C10.8288 3.75 11.6237 4.07924 12.2097 4.66529C12.7958 5.25134 13.125 6.0462 13.125 6.875Z\"\n              />\n              <path\n                class=\"visibility-icon__path\"\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M0 6.875C0 6.875 3.75 0 10 0C16.25 0 20 6.875 20 6.875C20 6.875 16.25 13.75 10 13.75C3.75 13.75 0 6.875 0 6.875ZM10 11.25C11.1603 11.25 12.2731 10.7891 13.0936 9.96859C13.9141 9.14812 14.375 8.03532 14.375 6.875C14.375 5.71468 13.9141 4.60188 13.0936 3.78141C12.2731 2.96094 11.1603 2.5 10 2.5C8.83968 2.5 7.72688 2.96094 6.90641 3.78141C6.08594 4.60188 5.625 5.71468 5.625 6.875C5.625 8.03532 6.08594 9.14812 6.90641 9.96859C7.72688 10.7891 8.83968 11.25 10 11.25Z\"\n              />\n            </svg>\n            <svg\n              *ngIf=\"isPasswordHidden === false\"\n              (click)=\"handleVisibilityIconClick()\"\n              class=\"password-visibility-container__visibility-icon\"\n              width=\"20\"\n              height=\"16\"\n              viewBox=\"0 0 20 16\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                class=\"visibility-icon__path\"\n                d=\"M13.4875 14.0824L11.47 12.0636C10.6898 12.3426 9.84643 12.3942 9.03802 12.2126C8.22962 12.031 7.48941 11.6235 6.90352 11.0376C6.31764 10.4517 5.91018 9.71152 5.72854 8.90311C5.5469 8.0947 5.59856 7.25133 5.8775 6.47113L3.3025 3.89613C1.1725 5.78988 0 7.94238 0 7.94238C0 7.94238 3.75 14.8174 10 14.8174C11.2005 14.8132 12.3874 14.5631 13.4875 14.0824ZM6.5125 1.80238C7.61257 1.32166 8.79949 1.07152 10 1.06738C16.25 1.06738 20 7.94238 20 7.94238C20 7.94238 18.8263 10.0936 16.6987 11.9899L14.1213 9.41238C14.4002 8.63218 14.4519 7.78882 14.2702 6.98041C14.0886 6.172 13.6811 5.43179 13.0952 4.84591C12.5093 4.26002 11.7691 3.85256 10.9607 3.67092C10.1523 3.48928 9.30895 3.54094 8.52875 3.81988L6.5125 1.80363V1.80238Z\"\n              />\n              <path\n                class=\"visibility-icon__path\"\n                d=\"M6.90604 7.49995C6.83728 7.98033 6.88135 8.47013 7.03474 8.93053C7.18814 9.39094 7.44666 9.80929 7.7898 10.1524C8.13295 10.4956 8.5513 10.7541 9.0117 10.9075C9.4721 11.0609 9.9619 11.105 10.4423 11.0362L6.90479 7.49995H6.90604ZM13.0935 8.38495L9.55729 4.84745C10.0377 4.77869 10.5275 4.82275 10.9879 4.97615C11.4483 5.12955 11.8666 5.38806 12.2098 5.73121C12.5529 6.07436 12.8114 6.49271 12.9648 6.95311C13.1182 7.41351 13.1623 7.90331 13.0935 8.3837V8.38495Z\"\n              />\n              <path\n                class=\"visibility-icon__path\"\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M17 15.885L2 0.885L2.885 0L17.885 15L17 15.885Z\"\n              />\n            </svg>\n          </div>\n        </div>\n      </div>\n      <button class=\"login-form__button\">Войти</button>\n    </form>\n  </div>\n  <div\n    class=\"error-message-container\"\n    [class.error-message--show]=\"\n      loginForm.controls.username.invalid &&\n      loginForm.controls.password.valid &&\n      isSubmitClicked\n    \"\n  >\n    Поле \"Логин\" не должен быть пустым\n  </div>\n  <div\n    class=\"error-message-container\"\n    [class.error-message--show]=\"\n      loginForm.controls.password.invalid &&\n      loginForm.controls.username.valid &&\n      isSubmitClicked\n    \"\n  >\n    Поле \"Пароль\" не должен быть пустым\n  </div>\n  <div\n    class=\"error-message-container\"\n    [class.error-message--show]=\"\n      loginForm.controls.password.invalid &&\n      loginForm.controls.username.invalid &&\n      isSubmitClicked\n    \"\n  >\n    Поля \"Логин\" и \"Пароль\" не должны быть пустыми\n  </div>\n  <div\n    class=\"error-message-container\"\n    [class.error-message--show]=\"showLoginFailed\"\n  >\n    Ошибка авторизации: неверный логин или пароль.\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { LoginComponent } from '../components/login/login.component';\n\nconst routes: Routes = [{ path: '', component: LoginComponent }];\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes),\n    FormsModule,\n    ReactiveFormsModule,\n  ],\n})\nexport class LoginModule {}\n"],"sourceRoot":"webpack:///"}